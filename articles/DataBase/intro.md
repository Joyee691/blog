# 绪论

> 本系列笔记为根据赵亮老师主讲的《数据库系统概论 王珊著》编写，主要为了记录与输出学习所得
>
> 每个部分按照讲课的章节来做划分

## 名词解释

- 数据（Data）：数据库中存储的基本对象。可以是文字，图像，语音等，经过数字化后存入计算机
- 数据库（Database, DB）：**长期存储**在计算机内**有组织**，**可共享**的大量数据集合
- 数据库管理系统（Database management system, DBMS）：类似仓库管理员，主要的职责有：
  - 数据定义
  - 数据组织、存储，管理
  - 数据操纵
  - 数据库事务管理与运行管理
  - 数据库建立与维护
- 数据库系统（Database system, DBS）：由 DB、DBMS、应用系统、数据库管理员构成

## 数据管理技术的产生与发展

**人工管理阶段**（打孔纸带阶段）

- 数据不保存
- 由应用程序管理数据
- 数据不共享
- 数据不具有独立性

<br />

**文件系统阶段**

- 数据可以长期保存，有文件系统统一管理
- 数据共享性差，冗余度高
- 数据独立性差

<br />

**DBMS 阶段**

- 数据结构化
- 数据共享性高、冗余度低、易扩充
- 数据独立性高
- 数据由 DBMS 统一管理与控制

## 数据模型

数据模型（Data model）是一种对现实世界数据特征的抽象，是一种对现实世界的模拟

### 数据模型的要求

- 能较为真实的模拟现实世界
- 人类易于理解
- 便于在计算机实现

### 数据模型的种类

- 概念模型（Conceptual Model）：又称为信息模型，它是按照**用户的观点**对信息的建模，用于数据库设计
- 逻辑模型：按照**计算机的观点**对数据建模，用于 DBMS 的实现。主要包括层次模型（Hierarchical Modal，树形结构）、网状模型（Network model，图）、关系模型（Relational model，二维表）、面向对象模型（Object oriented model）、对象关系模型（Object relational model）等
- 物理模型：对数据最底层的抽象，描述数据在计算机系统内部的表示与存储，是面向**计算机系统**的

### 数据模型的组成

数据模型由三个部分组成：

- 数据结构：描述数据库组成对象与对象之间的关系。是对系统静态特性的描述
- 数据操作：增删改查。是对系统动态特性的描述
- 数据完整性约束：是一组完整性规则

## 概念模型

概念模型是现实世界到计算机世界的一个中间层次，该模型有如下特征：

- 概念模型用于信息世界的建模
- 是现实世界的第一层抽象
- 是数据库设计人员设计数据库的工具
- 是数据库设计人员与用户交流的语言

举个例子：ER图

## 信息世界中的基本概念

### 实体 Entity

客观存在并且可以互相区别的事物被称为实体

比如：一个学生，一个部门，一门课

### 属性 Attribute

属性是实体所具有的某一特性

比如：学生可以有学号、姓名、性别、学院

### 码 Key

唯一标识实体的属性集称为码（键）

比如：学号能唯一标识一名学生，所以它是码（键）

### 域 Domain

域是一组具有相同数据类型的值的集合。属性的取值被称为域

比如：学生的性别的域为（男生，女生）、学号的域为 n 位正整数

### 实体型 Entity type

具有相同属性的实体必然具有相同的特征与性质。使用实体名与属性名集合来抽象的同类实体被称为实体型

比如：学生（姓名，学号，性别，学院）就是一种实体型

### 实体集 Entity set

同一类型实体的集合被称为实体集

比如：全体学生就是一个实体集

### 联系 Relationship

表示实体内部与实体之间的联系

实体内部的联系表示实体属性之间的联系

实体之间的联系表示不同实体集之间的联系

## 实体联系图 ER graph

ER 图提供了一种表示实体型、属性、联系的方法

- 实体型：使用矩形表示，矩形框内写实体名
- 属性：使用椭圆形表示，框内写属性名；使用无向边与其对应实体型联系起来
- 联系：使用菱形表示，框内写联系名；使用无向边与有关实体型联系起来；需要写明联系的种类（1:1， 1:n，n:m）；如果联系具有属性，也需要使用无向边链接起来

![er graph](https://upload.wikimedia.org/wikipedia/commons/7/72/ER_Diagram_MMORPG.png)

## 关系模型

关系模型使用一个二维表来记录对应关系，其主要名词定义如下：

- 关系（Relation）：一个关系对应着一张表
- 元组（Tuple）：表中的一行被称为一个元组
- 属性（Attribute）：表中一列即为一个属性
- 码（Key）：表中的**属性组**，可以唯一确定一个元组
- 域（Domain）：属性的取值范围
- 分量：元组中的一个属性值
- 关系模式：对关系的描述，一般表示为关系名（属性1，属性2，……）

## 完整性约束

- 实体完整性：实体间能够通过 key 互相区分
- 参照完整性：实体的 foreign key 必须在参照的关系中有记录
- 用户定义的完整性：根据实际用户要求的完整性

## 数据库系统的模式

模式（schema）指的是数据库中数据的逻辑结构与特征的描述，同一个模式可以有多个实例

数据库系统有三级模式结构：

- 外模式（应用模式）：应用程序访问数据库的模式，比如 openApi
- 模式：数据库存储数据的模式，比如二维表
- 内模式（物理模式）：数据实际存放的物理位置，比如磁盘分区

一个数据库可以有多个外模式，外模式应该是模式的子集（比如接口返回的只会是一部分数据）

外模式是保护数据库安全的有力措施，每个用户只能看见与访问对应外模式中的数据